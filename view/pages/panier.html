<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panier</title>

    <link rel="stylesheet" href="styles.css">

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>

<body>

    <div class="container">
        <div class="cart-card">

            <p class="subtitle">VOTRE SÃ‰LECTION</p>
            <h1>Panier</h1>
            <p class="description">Retrouvez ici les articles que vous souhaitez acheter</p>

            <!-- PRODUIT 1 -->
            <div class="cart-item">
                <img src="https://via.placeholder.com/80" class="cart-img">

                <div class="cart-info">
                    <h3>Bol artisanal en cÃ©ramique</h3>
                    <p class="craftsman">par Ã‰lodie â€“ CÃ©ramiste</p>

                    <div class="cart-bottom">
                        <span class="price">32,00 â‚¬</span>

                        <div class="qty-box">
                            <button onclick="changeQty(this, -1)">-</button>
                            <input type="text" value="1" readonly>
                            <button onclick="changeQty(this, 1)">+</button>
                        </div>
                    </div>
                </div>

                <button class="remove-btn" onclick="removeItem(this)">Ã—</button>
            </div>

            <!-- PRODUIT 2 -->
            <div class="cart-item">
                <img src="https://via.placeholder.com/80" class="cart-img">

                <div class="cart-info">
                    <h3>Planche en bois sculptÃ©e</h3>
                    <p class="craftsman">par Lucas â€“ Ã‰bÃ©niste</p>

                    <div class="cart-bottom">
                        <span class="price">45,00 â‚¬</span>

                        <div class="qty-box">
                            <button onclick="changeQty(this, -1)">-</button>
                            <input type="text" value="1" readonly>
                            <button onclick="changeQty(this, 1)">+</button>
                        </div>
                    </div>
                </div>

                <button class="remove-btn" onclick="removeItem(this)">Ã—</button>
            </div>

            <!-- RÃ‰SUMÃ‰ -->
            <div class="summary">
                <div class="row-s">
                    <span>Sous-total :</span>
                    <span id="subtotal">77,00 â‚¬</span>
                </div>

                <div class="row-s">
                    <span>Livraison :</span>
                    <span id="shipping">5,90 â‚¬</span>
                </div>

                <div class="divider"></div>

                <div class="row-s total">
                    <span>Total :</span>
                    <span id="total">82,90 â‚¬</span>
                </div>

                <button class="login-btn" style="margin-top:20px;">Passer la commande</button>
            </div>

        </div>
    </div>


    <!-- ------------------ JAVASCRIPT ------------------ -->
    <script>
        function changeQty(btn, delta) {
            let input = btn.parentElement.querySelector("input");
            let value = parseInt(input.value);

            value += delta;
            if (value < 1) value = 1;

            input.value = value;

            updateTotal();
        }

        // ðŸ”¥ Suppression dâ€™un article
        function removeItem(button) {
            const item = button.closest(".cart-item");

            // Petite animation
            item.style.opacity = "0";
            item.style.transform = "translateX(-20px)";

            setTimeout(() => {
                item.remove();
                updateTotal();
            }, 200);
        }

        // ðŸ”¥ Mise Ã  jour automatique du total
        function updateTotal() {
            const items = document.querySelectorAll(".cart-item");

            let subtotal = 0;

            items.forEach(item => {
                const price = parseFloat(
                    item.querySelector(".price").textContent.replace("â‚¬", "").replace(",", ".")
                );
                const qty = parseInt(
                    item.querySelector(".qty-box input").value
                );

                subtotal += price * qty;
            });

            // Livraison : seulement si le panier n'est pas vide
            const shipping = items.length > 0 ? 5.90 : 0;
            const total = subtotal + shipping;

            // Mise Ã  jour de l'affichage
            document.getElementById("subtotal").textContent =
                subtotal.toFixed(2).replace(".", ",") + " â‚¬";

            document.getElementById("shipping").textContent =
                shipping.toFixed(2).replace(".", ",") + " â‚¬";

            document.getElementById("total").textContent =
                total.toFixed(2).replace(".", ",") + " â‚¬";
        }
    </script>

</body>

</html>